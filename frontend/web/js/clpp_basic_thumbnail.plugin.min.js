/*! @castlabs/prestoplay 5.1.2, 15-11-2017 Copyright (c) 2017 castLabs GmbH, All Rights reserved */

(function webpackUniversalModuleDefinition(root,factory){if(typeof exports==="object"&&typeof module==="object")module.exports=factory(require("clpp"));else if(typeof define==="function"&&define.amd)define(["clpp"],factory);else if(typeof exports==="object")exports["clpp_basic_thumbnail"]=factory(require("clpp"));else root["clpp_basic_thumbnail"]=factory(root["clpp"])})(this,function(__WEBPACK_EXTERNAL_MODULE_1__){return function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:false};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.loaded=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.p="/";return __webpack_require__(0)}([function(module,exports,__webpack_require__){__webpack_require__(1);module.exports=__webpack_require__(2)},function(module,exports){module.exports=__WEBPACK_EXTERNAL_MODULE_1__},function(module,exports){var _0xc67c=["exports","amd","clpp_basic_thumbnail","BasicThumbnail","registerPlugin","cl_O","videojs","getComponent","cl_A","plugins","registerComponent","plugin","Component","player_","cl_Dh","options_","tech_","thumbnailOptions","thumbnail","controlBar","progressControl","seekBar","mouseTimeDisplay","videoJsElement","textTrackDisplay","mousemove","cl_Mh","clientX","left","one","deattachEvents","cl_Nh","ready","bind","basicThumbnail","cl_Ld","function","onReady","addEventListener","target","querySelector","vjs-mouse-display","vjs-progress-holder",".tmp_thumbnail","style","hidden","prototype","slice","call","apply","currentTime","calculateDistance","offsetTop","offsetLeft","defaultMouseMove","cl_Bu","remove","removeNode","Error attempting to remove thumbnail DOM element","off","cl_Uh","image","width","cl_xh","offsetHeight","className","tmp_thumbnail","resize","visibility: hidden; position: absolute; top: 0px; left: 0px","appendChild","cssText","visibility: hidden; position: absolute; bottom: ","px; left: ","replaceChild","offsetWidth","visibility","visible","getAttribute","data-current-time","split","reverse","getThumbnail","then","cl_Fh","map","cl_Vh","get","type","tagName","height","cl_Hh","object"];(function(_0x52f275,_0x2027cc){var _0x26744d=function(_0xdf7e77){while(--_0xdf7e77){_0x52f275["push"](_0x52f275["shift"]())}};_0x26744d(++_0x2027cc)})(_0xc67c,275);var _0xcc67=function(_0x4cf399,_0x3755f2){_0x4cf399=_0x4cf399-0;var _0x5c33a7=_0xc67c[_0x4cf399];return _0x5c33a7};!function(e,t){_0xcc67("0x0")==typeof exports&&_0xcc67("0x0")==typeof module?module[_0xcc67("0x1")]=t():"function"==typeof define&&define[_0xcc67("0x2")]?define([],t):_0xcc67("0x0")==typeof exports?exports[_0xcc67("0x3")]=t():e["clpp_basic_thumbnail"]=t()}(this,function(){return webpackJsonpclpp__name_([11],{0:function(e,t,i){var n=i(1),r=_0xcc67("0x3"),s=_0xcc67("0x4");n["definePlugin"](r,t),t[_0xcc67("0x5")]=function(){var e=i(1),t=i(5)[_0xcc67("0x6")],n=i(116),o=e[_0xcc67("0x7")][_0xcc67("0x8")]("Component"),a=i(2)[_0xcc67("0x9")];a[_0xcc67("0xa")][r]={},o[_0xcc67("0xb")](s,n),e["videojs"][_0xcc67("0xc")](r,function(e){t(this,s,e)})}},116:function(e,t,i){var n=i(1),r=n[_0xcc67("0x7")]["getComponent"](_0xcc67("0xd")),s=i(5)["cl_L"],o=i(22)["cl_$t"],a=n[_0xcc67("0x7")]["extend"](r,{constructor:function(e){this[_0xcc67("0xe")]=e,this[_0xcc67("0xf")]()},cl_Dh:function(){var e=this;this[_0xcc67("0x10")]=s(this[_0xcc67("0xe")][_0xcc67("0x11")]),this[_0xcc67("0x12")]=this["options_"][_0xcc67("0x13")];var t=this[_0xcc67("0xe")][_0xcc67("0x14")],i=t["progressControl"];this[_0xcc67("0x15")]=i,this[_0xcc67("0x16")]=i[_0xcc67("0x16")],this[_0xcc67("0x17")]=this["seekBar"]["mouseTimeDisplay"],this[_0xcc67("0x18")]=this[_0xcc67("0xe")]["el"](),this[_0xcc67("0x19")]=this["player_"][_0xcc67("0x19")],t["on"](_0xcc67("0x1a"),function(e){var t=this["cl_xh"](this[_0xcc67("0xe")]["el"]());this[_0xcc67("0x1b")]=e[_0xcc67("0x1c")]-t[_0xcc67("0x1d")]}["bind"](this)),this[_0xcc67("0xe")][_0xcc67("0x11")][_0xcc67("0x1e")]("dispose",function(){e[_0xcc67("0x1f")](),e[_0xcc67("0x20")]=null,e[_0xcc67("0xe")][_0xcc67("0x1e")](_0xcc67("0x21"),e[_0xcc67("0xf")][_0xcc67("0x22")](e))}),this[_0xcc67("0x12")]&&this["thumbnailOptions"][_0xcc67("0x23")]&&(this[_0xcc67("0x24")](),_0xcc67("0x25")==typeof this[_0xcc67("0x12")][_0xcc67("0x23")]["onReady"]&&this[_0xcc67("0x12")][_0xcc67("0x23")][_0xcc67("0x26")](this,this[_0xcc67("0xe")])),this[_0xcc67("0xe")]["el"]()[_0xcc67("0x27")]("mouseout",function(t){var i=t[_0xcc67("0x28")]||t["srcElement"],n=e[_0xcc67("0xe")]["el"](),r=n[_0xcc67("0x29")](".tmp_thumbnail");i=o(i,_0xcc67("0x2a"))||o(i,_0xcc67("0x2b")),r&&!i&&(r=n[_0xcc67("0x29")](_0xcc67("0x2c")),r[_0xcc67("0x2d")]["visibility"]=_0xcc67("0x2e"))})},cl_Oh:function(e,t,i){var n=e[t];e[t]=function(){var t=Array[_0xcc67("0x2f")][_0xcc67("0x30")][_0xcc67("0x31")](arguments);i[_0xcc67("0x32")](e,t),n["apply"](e,t)}},cl_Bh:function(e){var t=this[_0xcc67("0xe")][_0xcc67("0x33")](),i=this[_0xcc67("0x17")][_0xcc67("0x34")](e)*t;return i},cl_xh:function(e){var t=0,i=0;do t+=e[_0xcc67("0x35")]||0,i+=e[_0xcc67("0x36")]||0,e=e["offsetParent"];while(e);return{top:t,left:i}},cl_Ld:function(){this[_0xcc67("0x37")]=this[_0xcc67("0x38")]["bind"](this),this[_0xcc67("0x15")]["on"](_0xcc67("0x1a"),this[_0xcc67("0x37")])},cl_Vh:function(e){if(_0xcc67("0x39")in e)e[_0xcc67("0x39")]();else{if(!(_0xcc67("0x3a")in e))throw new Error(_0xcc67("0x3b"));e[_0xcc67("0x3a")](!0)}},deattachEvents:function(){this["defaultMouseMove"]&&(this[_0xcc67("0x15")][_0xcc67("0x3c")]("mousemove",this[_0xcc67("0x37")]),this[_0xcc67("0x3d")]())},cl_Fh:function(e){var t,i,n,r,s,o=e[_0xcc67("0x3e")],a=e[_0xcc67("0x3f")],c=e["height"],u=this[_0xcc67("0x40")](this[_0xcc67("0x18")]),d=this[_0xcc67("0x19")]["el"]()["offsetWidth"],h=this[_0xcc67("0x19")]["el"]()[_0xcc67("0x41")],l=this[_0xcc67("0xe")]["el"](),p=this[_0xcc67("0x17")]["el"]()["offsetLeft"],f=40;this[_0xcc67("0x1b")]&&(p=this[_0xcc67("0x1b")],t=l[_0xcc67("0x29")](_0xcc67("0x2c")),n=p-a/2,o?(o[_0xcc67("0x42")]=_0xcc67("0x43"),d<a||h<c+f?(o=e[_0xcc67("0x44")](d,h),o[_0xcc67("0x2d")]["cssText"]+=_0xcc67("0x45"),t?l["replaceChild"](o,t):l[_0xcc67("0x46")](o)):(o[_0xcc67("0x2d")][_0xcc67("0x47")]+=_0xcc67("0x48")+f+_0xcc67("0x49")+n+"px",t?l[_0xcc67("0x4a")](o,t):l["appendChild"](o),i=this[_0xcc67("0x40")](o),s=o[_0xcc67("0x4b")]+i["left"],r=this[_0xcc67("0x18")]["offsetWidth"]+u[_0xcc67("0x1d")],i[_0xcc67("0x1d")]<u[_0xcc67("0x1d")]&&(n=0,o[_0xcc67("0x2d")][_0xcc67("0x1d")]=""+n+"px"),s>r&&(n=this[_0xcc67("0x18")][_0xcc67("0x4b")]-a,o["style"][_0xcc67("0x1d")]=""+n+"px")),o["style"][_0xcc67("0x4c")]=_0xcc67("0x4d")):t&&this["cl_Vh"](t))},cl_Bu:function(){var e,t=this,i=this[_0xcc67("0x17")]["el"]()[_0xcc67("0x4e")](_0xcc67("0x4f"));i=i[_0xcc67("0x50")](":")["map"](parseFloat)[_0xcc67("0x51")](),i=i[0]+60*(i[1]||0)+3600*(i[2]||0),e=this[_0xcc67("0x52")](i),e[_0xcc67("0x53")](function(e){t[_0xcc67("0x54")](e)})},cl_Hh:function(){var e,t=this,i=this["mouseTimeDisplay"]["el"]()[_0xcc67("0x4e")](_0xcc67("0x4f"));if(i=i[_0xcc67("0x50")](":")[_0xcc67("0x55")](parseFloat)[_0xcc67("0x51")](),i=i[0]+60*(i[1]||0)+3600*(i[2]||0),e=this[_0xcc67("0xe")][_0xcc67("0x11")]&&this[_0xcc67("0xe")][_0xcc67("0x11")]["getThumbnail"](i),!e)throw new Error("BasicThumbnail failed: the tech is not available");e["then"](function(e){t[_0xcc67("0x20")](e,i)})},cl_Uh:function(){var e,t=this[_0xcc67("0xe")]["el"]();e=t[_0xcc67("0x29")](".tmp_thumbnail"),e&&this[_0xcc67("0x56")](e)},getThumbnail:function(e,t,i){var n,r=this[_0xcc67("0xe")][_0xcc67("0x11")]&&this[_0xcc67("0xe")]["tech_"][_0xcc67("0x52")](e),s={time:e},o=new Promise(function(e,o){r["then"](function(r){return r["sprite"]?(s["image"]=r["sprite"][_0xcc67("0x57")](t,i),s[_0xcc67("0x3f")]=parseInt(s["image"][_0xcc67("0x2d")][_0xcc67("0x3f")],10),s["height"]=parseInt(s[_0xcc67("0x3e")][_0xcc67("0x2d")]["height"],10),s[_0xcc67("0x58")]=s[_0xcc67("0x3e")][_0xcc67("0x59")],s["resize"]=r["sprite"][_0xcc67("0x57")][_0xcc67("0x22")](r["sprite"]),e(s)):(n=r[_0xcc67("0x3e")],t&&i&&(n["width"]=t,n[_0xcc67("0x5a")]=i),s[_0xcc67("0x3f")]=n[_0xcc67("0x3f")],s[_0xcc67("0x5a")]=n[_0xcc67("0x5a")],s[_0xcc67("0x3e")]=n,s[_0xcc67("0x58")]=s[_0xcc67("0x3e")][_0xcc67("0x59")],s[_0xcc67("0x44")]=function(e,t){return this["image"][_0xcc67("0x3f")]=e||this[_0xcc67("0x3e")][_0xcc67("0x3f")],this[_0xcc67("0x3e")][_0xcc67("0x5a")]=t||this[_0xcc67("0x3e")][_0xcc67("0x5a")],this[_0xcc67("0x3e")]},e(s))})["catch"](function(e){return o(e)})});return o},onProgressBarHover:function(e){this["cl_Nh"]=e,this[_0xcc67("0x15")]["on"](_0xcc67("0x1a"),this[_0xcc67("0x5b")][_0xcc67("0x22")](this))}});e["exports"]=a}})})}])});